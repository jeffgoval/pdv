{
  "version": 3,
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/LoginScreen.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { motion } from 'framer-motion';\n\ninterface LoginScreenProps {\n  onLogin: (email: string, password: string) => Promise<void>;\n  onSignUp: (email: string, password: string, name: string) => Promise<void>;\n}\n\nexport const LoginScreen: React.FC<LoginScreenProps> = ({\n  onLogin,\n  onSignUp,\n}) => {\n  const [isSignUp, setIsSignUp] = useState(false);\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [name, setName] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError('');\n    setLoading(true);\n\n    try {\n      if (isSignUp) {\n        if (!name.trim()) {\n          setError('Nome √© obrigat√≥rio');\n          setLoading(false);\n          return;\n        }\n        await onSignUp(email, password, name);\n      } else {\n        await onLogin(email, password);\n      }\n    } catch (err: any) {\n      setError(err.message || 'Erro ao autenticar');\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"flex min-h-screen items-center justify-center bg-gradient-to-br from-blue-50 to-emerald-50 p-4\">\n      <motion.div\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        className=\"w-full max-w-md\"\n      >\n        <div className=\"rounded-3xl border-2 border-gray-200 bg-white p-8 shadow-xl\">\n          <div className=\"mb-8 text-center\">\n            <div className=\"mb-4 inline-flex h-16 w-16 items-center justify-center rounded-full bg-gradient-to-br from-blue-500 to-emerald-500 text-3xl text-white shadow-lg\">\n              üí∞\n            </div>\n            <h1 className=\"mb-2 text-2xl font-bold text-gray-900\">PDV</h1>\n            <p className=\"text-sm text-gray-600\">\n              {isSignUp ? 'Criar nova conta' : 'Entre na sua conta'}\n            </p>\n          </div>\n\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            {isSignUp && (\n              <div>\n                <label className=\"mb-2 block text-sm font-semibold text-gray-700\">\n                  Nome\n                </label>\n                <input\n                  type=\"text\"\n                  value={name}\n                  onChange={(e) => setName(e.target.value)}\n                  className=\"w-full rounded-xl border-2 border-gray-200 px-4 py-3 text-sm font-medium text-gray-900 transition-colors focus:border-blue-500 focus:outline-none\"\n                  placeholder=\"Seu nome\"\n                  required={isSignUp}\n                />\n              </div>\n            )}\n\n            <div>\n              <label className=\"mb-2 block text-sm font-semibold text-gray-700\">\n                Email\n              </label>\n              <input\n                type=\"email\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                className=\"w-full rounded-xl border-2 border-gray-200 px-4 py-3 text-sm font-medium text-gray-900 transition-colors focus:border-blue-500 focus:outline-none\"\n                placeholder=\"seu@email.com\"\n                required\n              />\n            </div>\n\n            <div>\n              <label className=\"mb-2 block text-sm font-semibold text-gray-700\">\n                Senha\n              </label>\n              <input\n                type=\"password\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                className=\"w-full rounded-xl border-2 border-gray-200 px-4 py-3 text-sm font-medium text-gray-900 transition-colors focus:border-blue-500 focus:outline-none\"\n                placeholder=\"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢\"\n                required\n                minLength={6}\n              />\n            </div>\n\n            {error && (\n              <div className=\"rounded-xl border-2 border-red-200 bg-red-50 px-4 py-3 text-sm font-medium text-red-700\">\n                {error}\n              </div>\n            )}\n\n            <button\n              type=\"submit\"\n              disabled={loading}\n              className=\"w-full rounded-xl bg-gradient-to-r from-blue-600 to-emerald-600 px-6 py-4 text-sm font-bold text-white shadow-lg transition-all hover:from-blue-700 hover:to-emerald-700 disabled:opacity-50\"\n            >\n              {loading ? 'Carregando...' : isSignUp ? 'Criar Conta' : 'Entrar'}\n            </button>\n          </form>\n\n          <div className=\"mt-6 text-center\">\n            <button\n              onClick={() => {\n                setIsSignUp(!isSignUp);\n                setError('');\n              }}\n              className=\"text-sm font-semibold text-blue-600 hover:text-blue-700\"\n            >\n              {isSignUp\n                ? 'J√° tem conta? Entre aqui'\n                : 'N√£o tem conta? Cadastre-se'}\n            </button>\n          </div>\n        </div>\n      </motion.div>\n    </div>\n  );\n};\n"],"names":[],"mappings":";;;;;;;;;;AAQO,MAAM,cAA0C,CAAC,EACtD,OAAO,EACP,QAAQ,EACT;IACC,MAAM,CAAC,UAAU,YAAY,GAAG,4NAAS;IACzC,MAAM,CAAC,OAAO,SAAS,GAAG,4NAAS;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,4NAAS;IACzC,MAAM,CAAC,MAAM,QAAQ,GAAG,4NAAS;IACjC,MAAM,CAAC,SAAS,WAAW,GAAG,4NAAS;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,4NAAS;IAEnC,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,SAAS;QACT,WAAW;QAEX,IAAI;YACF,IAAI,UAAU;gBACZ,IAAI,CAAC,KAAK,IAAI,IAAI;oBAChB,SAAS;oBACT,WAAW;oBACX;gBACF;gBACA,MAAM,SAAS,OAAO,UAAU;YAClC,OAAO;gBACL,MAAM,QAAQ,OAAO;YACvB;QACF,EAAE,OAAO,KAAU;YACjB,SAAS,IAAI,OAAO,IAAI;YACxB,WAAW;QACb;IACF;IAEA,qBACE,mPAAC;QAAI,WAAU;kBACb,cAAA,mPAAC,qMAAO,GAAG;YACT,SAAS;gBAAE,SAAS;gBAAG,GAAG;YAAG;YAC7B,SAAS;gBAAE,SAAS;gBAAG,GAAG;YAAE;YAC5B,WAAU;sBAEV,cAAA,mPAAC;gBAAI,WAAU;;kCACb,mPAAC;wBAAI,WAAU;;0CACb,mPAAC;gCAAI,WAAU;0CAAmJ;;;;;;0CAGlK,mPAAC;gCAAG,WAAU;0CAAwC;;;;;;0CACtD,mPAAC;gCAAE,WAAU;0CACV,WAAW,qBAAqB;;;;;;;;;;;;kCAIrC,mPAAC;wBAAK,UAAU;wBAAc,WAAU;;4BACrC,0BACC,mPAAC;;kDACC,mPAAC;wCAAM,WAAU;kDAAiD;;;;;;kDAGlE,mPAAC;wCACC,MAAK;wCACL,OAAO;wCACP,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;wCACvC,WAAU;wCACV,aAAY;wCACZ,UAAU;;;;;;;;;;;;0CAKhB,mPAAC;;kDACC,mPAAC;wCAAM,WAAU;kDAAiD;;;;;;kDAGlE,mPAAC;wCACC,MAAK;wCACL,OAAO;wCACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;wCACxC,WAAU;wCACV,aAAY;wCACZ,QAAQ;;;;;;;;;;;;0CAIZ,mPAAC;;kDACC,mPAAC;wCAAM,WAAU;kDAAiD;;;;;;kDAGlE,mPAAC;wCACC,MAAK;wCACL,OAAO;wCACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;wCAC3C,WAAU;wCACV,aAAY;wCACZ,QAAQ;wCACR,WAAW;;;;;;;;;;;;4BAId,uBACC,mPAAC;gCAAI,WAAU;0CACZ;;;;;;0CAIL,mPAAC;gCACC,MAAK;gCACL,UAAU;gCACV,WAAU;0CAET,UAAU,kBAAkB,WAAW,gBAAgB;;;;;;;;;;;;kCAI5D,mPAAC;wBAAI,WAAU;kCACb,cAAA,mPAAC;4BACC,SAAS;gCACP,YAAY,CAAC;gCACb,SAAS;4BACX;4BACA,WAAU;sCAET,WACG,6BACA;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOlB"}},
    {"offset": {"line": 239, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 244, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/BottomNav.tsx"],"sourcesContent":["import React from 'react';\n\ntype NavTab = 'dashboard' | 'products' | 'profile';\n\ninterface BottomNavProps {\n  activeTab: NavTab;\n  onNavigate: (tab: NavTab) => void;\n}\n\nexport const BottomNav: React.FC<BottomNavProps> = ({\n  activeTab,\n  onNavigate,\n}) => {\n  return (\n    <div className=\"fixed bottom-0 left-0 right-0 bg-white border-t-2 border-gray-200 px-6 py-3 pb-6 flex items-center justify-between max-w-md mx-auto z-40 shadow-lg safe-area-inset-bottom\">\n      <button\n        onClick={() => onNavigate('dashboard')}\n        className={`flex flex-col items-center gap-1.5 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 rounded-lg p-1 ${\n          activeTab === 'dashboard'\n            ? 'text-blue-600'\n            : 'text-gray-600 hover:text-gray-800'\n        }`}\n        aria-label=\"Ir para in√≠cio\"\n        aria-current={activeTab === 'dashboard' ? 'page' : undefined}\n      >\n        <span className=\"text-2xl\">üè†</span>\n        <span className=\"text-[11px] font-bold\">In√≠cio</span>\n      </button>\n\n      <button\n        onClick={() => onNavigate('products')}\n        className={`flex flex-col items-center gap-1.5 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 rounded-lg p-1 ${\n          activeTab === 'products'\n            ? 'text-blue-600'\n            : 'text-gray-600 hover:text-gray-800'\n        }`}\n        aria-label=\"Ir para produtos\"\n        aria-current={activeTab === 'products' ? 'page' : undefined}\n      >\n        <span className=\"text-2xl\">üì¶</span>\n        <span className=\"text-[11px] font-bold\">Produtos</span>\n      </button>\n\n      <button\n        onClick={() => onNavigate('profile')}\n        className={`flex flex-col items-center gap-1.5 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 rounded-lg p-1 ${\n          activeTab === 'profile'\n            ? 'text-blue-600'\n            : 'text-gray-600 hover:text-gray-800'\n        }`}\n        aria-label=\"Ir para perfil\"\n        aria-current={activeTab === 'profile' ? 'page' : undefined}\n      >\n        <span className=\"text-2xl\">üë§</span>\n        <span className=\"text-[11px] font-bold\">Perfil</span>\n      </button>\n    </div>\n  );\n};\n"],"names":[],"mappings":";;;;;;AASO,MAAM,YAAsC,CAAC,EAClD,SAAS,EACT,UAAU,EACX;IACC,qBACE,mPAAC;QAAI,WAAU;;0BACb,mPAAC;gBACC,SAAS,IAAM,WAAW;gBAC1B,WAAW,CAAC,4IAA4I,EACtJ,cAAc,cACV,kBACA,oCACL,CAAC;gBACF,cAAW;gBACX,gBAAc,cAAc,cAAc,SAAS;;kCAEnD,mPAAC;wBAAK,WAAU;kCAAW;;;;;;kCAC3B,mPAAC;wBAAK,WAAU;kCAAwB;;;;;;;;;;;;0BAG1C,mPAAC;gBACC,SAAS,IAAM,WAAW;gBAC1B,WAAW,CAAC,4IAA4I,EACtJ,cAAc,aACV,kBACA,oCACL,CAAC;gBACF,cAAW;gBACX,gBAAc,cAAc,aAAa,SAAS;;kCAElD,mPAAC;wBAAK,WAAU;kCAAW;;;;;;kCAC3B,mPAAC;wBAAK,WAAU;kCAAwB;;;;;;;;;;;;0BAG1C,mPAAC;gBACC,SAAS,IAAM,WAAW;gBAC1B,WAAW,CAAC,4IAA4I,EACtJ,cAAc,YACV,kBACA,oCACL,CAAC;gBACF,cAAW;gBACX,gBAAc,cAAc,YAAY,SAAS;;kCAEjD,mPAAC;wBAAK,WAAU;kCAAW;;;;;;kCAC3B,mPAAC;wBAAK,WAAU;kCAAwB;;;;;;;;;;;;;;;;;;AAIhD"}},
    {"offset": {"line": 345, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 350, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/PageShell.tsx"],"sourcesContent":["import React from 'react';\nimport { BottomNav } from './BottomNav';\n\ntype NavTab = 'dashboard' | 'products' | 'profile';\n\ninterface PageShellProps {\n  title: string;\n  children: React.ReactNode;\n  onBack?: () => void;\n  activeTab?: NavTab;\n  onNavigate?: (tab: NavTab) => void;\n}\n\nexport const PageShell: React.FC<PageShellProps> = ({\n  title,\n  children,\n  onBack,\n  activeTab,\n  onNavigate,\n}) => {\n  return (\n    <div className=\"h-screen bg-white text-gray-900 flex flex-col w-full max-w-md border-x-2 border-gray-200 shadow-xl\">\n      <header className=\"flex items-center gap-4 px-4 sm:px-6 pt-4 sm:pt-6 pb-3 sm:pb-4 border-b-2 border-gray-200 bg-white shrink-0\">\n        {onBack && (\n          <button\n            onClick={onBack}\n            className=\"rounded-full border-2 border-gray-400 w-9 h-9 flex items-center justify-center text-sm hover:bg-gray-100 transition-colors text-gray-800 font-bold focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 shrink-0\"\n            aria-label=\"Voltar\"\n          >\n            ‚Üê\n          </button>\n        )}\n        <div className=\"flex flex-col min-w-0\">\n          <h1 className=\"text-lg sm:text-xl font-bold text-gray-900 truncate\">\n            {title}\n          </h1>\n        </div>\n      </header>\n      <main\n        className={`flex-1 px-4 sm:px-6 pb-4 sm:pb-6 pt-4 sm:pt-6 flex flex-col gap-4 sm:gap-6 overflow-y-auto bg-gray-50 ${activeTab ? 'pb-24' : ''}`}\n      >\n        {children}\n      </main>\n      {activeTab && onNavigate && (\n        <BottomNav activeTab={activeTab} onNavigate={onNavigate} />\n      )}\n    </div>\n  );\n};\n"],"names":[],"mappings":";;;;;;;;AAaO,MAAM,YAAsC,CAAC,EAClD,KAAK,EACL,QAAQ,EACR,MAAM,EACN,SAAS,EACT,UAAU,EACX;IACC,qBACE,mPAAC;QAAI,WAAU;;0BACb,mPAAC;gBAAO,WAAU;;oBACf,wBACC,mPAAC;wBACC,SAAS;wBACT,WAAU;wBACV,cAAW;kCACZ;;;;;;kCAIH,mPAAC;wBAAI,WAAU;kCACb,cAAA,mPAAC;4BAAG,WAAU;sCACX;;;;;;;;;;;;;;;;;0BAIP,mPAAC;gBACC,WAAW,CAAC,sGAAsG,EAAE,YAAY,UAAU,GAAG,CAAC;0BAE7I;;;;;;YAEF,aAAa,4BACZ;gBAAW,WAAW;gBAAW,YAAY;;;;;;;;;;;;AAIrD"}},
    {"offset": {"line": 419, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 424, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/lib/supabase.ts"],"sourcesContent":["import { createClient, SupabaseClient } from '@supabase/supabase-js';\n\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!;\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!;\n\n// Cliente padr√£o com anon key\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey, {\n  auth: {\n    persistSession: true,\n    autoRefreshToken: true,\n  }\n});\n\n// Fun√ß√£o para criar cliente com token customizado\nexport const createSupabaseClientWithToken = (accessToken: string): SupabaseClient => {\n  return createClient(supabaseUrl, supabaseAnonKey, {\n    global: {\n      headers: {\n        Authorization: `Bearer ${accessToken}`,\n      },\n    },\n    auth: {\n      persistSession: false,\n      autoRefreshToken: false,\n    }\n  });\n};\n\n// Fun√ß√£o para definir sess√£o com token\nexport const setSupabaseSession = async (accessToken: string, refreshToken?: string) => {\n  const { data, error } = await supabase.auth.setSession({\n    access_token: accessToken,\n    refresh_token: refreshToken || accessToken,\n  });\n  \n  if (error) {\n    console.error('Erro ao definir sess√£o:', error);\n    throw error;\n  }\n  \n  return data;\n};\n"],"names":[],"mappings":";;;;;;;;AAEA,MAAM;AACN,MAAM;AAGC,MAAM,WAAW,wMAAa,aAAa,iBAAiB;IACjE,MAAM;QACJ,gBAAgB;QAChB,kBAAkB;IACpB;AACF;AAGO,MAAM,gCAAgC,CAAC;IAC5C,OAAO,wMAAa,aAAa,iBAAiB;QAChD,QAAQ;YACN,SAAS;gBACP,eAAe,CAAC,OAAO,EAAE,YAAY,CAAC;YACxC;QACF;QACA,MAAM;YACJ,gBAAgB;YAChB,kBAAkB;QACpB;IACF;AACF;AAGO,MAAM,qBAAqB,OAAO,aAAqB;IAC5D,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,UAAU,CAAC;QACrD,cAAc;QACd,eAAe,gBAAgB;IACjC;IAEA,IAAI,OAAO;QACT,QAAQ,KAAK,CAAC,2BAA2B;QACzC,MAAM;IACR;IAEA,OAAO;AACT"}},
    {"offset": {"line": 464, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 469, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/DashboardScreen.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { motion } from 'framer-motion';\nimport { PageShell } from './PageShell';\nimport { supabase } from '@/lib/supabase';\nimport { useDialog } from '@/contexts/DialogContext';\n\ntype NavTab = 'dashboard' | 'products' | 'profile';\n\ninterface DashboardScreenProps {\n  onNewSale: () => void;\n  onGoProducts: () => void;\n  onGoSalesHistory: () => void;\n  activeTab?: NavTab;\n  onNavigate?: (tab: NavTab) => void;\n}\n\nexport const DashboardScreen: React.FC<DashboardScreenProps> = ({\n  onNewSale,\n  onGoProducts,\n  onGoSalesHistory,\n  activeTab,\n  onNavigate,\n}) => {\n  const { showError } = useDialog();\n  const [metrics, setMetrics] = useState({\n    todaySales: 0,\n    todayRevenue: 0,\n    pendingSales: 0,\n    pendingRevenue: 0,\n  });\n\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchMetrics = async () => {\n      try {\n        const today = new Date();\n        today.setHours(0, 0, 0, 0);\n        const todayISO = today.toISOString();\n\n        // Get today's sales\n        const { data: sales, error: salesError } = await supabase\n          .from('sales')\n          .select('total, status')\n          .gte('created_at', todayISO);\n\n        if (salesError) {\n          await showError(\n            'N√£o foi poss√≠vel carregar as m√©tricas de vendas. Tente recarregar a p√°gina.',\n            'Erro ao carregar dados'\n          );\n          return;\n        }\n\n        if (sales) {\n          const paidSales = sales.filter((s) => s.status === 'PAID');\n          const pendingSales = sales.filter((s) => s.status === 'PENDING');\n\n          const todaySales = paidSales.length;\n          const todayRevenue = paidSales.reduce(\n            (sum, s) => sum + (s.total || 0),\n            0\n          );\n\n          const pendingSalesCount = pendingSales.length;\n          const pendingRevenue = pendingSales.reduce(\n            (sum, s) => sum + (s.total || 0),\n            0\n          );\n\n          setMetrics({\n            todaySales,\n            todayRevenue,\n            pendingSales: pendingSalesCount,\n            pendingRevenue,\n          });\n        }\n      } catch (error: any) {\n        await showError(\n          `Erro inesperado ao carregar m√©tricas: ${error?.message || 'Tente novamente.'}`,\n          'Erro'\n        );\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchMetrics();\n  }, [showError]);\n\n  const formatCurrency = (value: number) =>\n    value.toLocaleString('pt-BR', {\n      style: 'currency',\n      currency: 'BRL',\n      minimumFractionDigits: 2,\n    });\n\n  return (\n    <PageShell\n      title=\"Resumo do dia\"\n      activeTab={activeTab}\n      onNavigate={onNavigate}\n    >\n      <section className=\"flex flex-col gap-4\">\n        <motion.button\n          whileTap={{ scale: 0.98 }}\n          onClick={onNewSale}\n          className=\"w-full rounded-2xl bg-blue-600 text-white text-base font-bold py-4 flex items-center justify-center gap-2 shadow-sm hover:bg-blue-700 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2\"\n          aria-label=\"Iniciar nova venda\"\n        >\n          <span className=\"text-xl\">Ôºã</span>\n          Nova venda\n        </motion.button>\n\n        <div className=\"grid grid-cols-2 gap-4\">\n          <motion.div\n            layout\n            className=\"rounded-2xl border-2 border-gray-200 bg-white p-5 flex flex-col gap-2 shadow-sm\"\n          >\n            <span className=\"text-xs text-gray-600 font-semibold uppercase tracking-wide\">\n              Vendas de hoje\n            </span>\n            <span className=\"text-2xl font-bold text-gray-900\">\n              {formatCurrency(metrics.todayRevenue)}\n            </span>\n            <span className=\"text-sm text-blue-600 font-bold\">\n              {metrics.todaySales} vendas\n            </span>\n          </motion.div>\n          <motion.div\n            layout\n            className=\"rounded-2xl border-2 border-gray-200 bg-white p-5 flex flex-col gap-2 shadow-sm\"\n          >\n            <span className=\"text-xs text-gray-600 font-semibold uppercase tracking-wide\">\n              Vendas pendentes\n            </span>\n            <span className=\"text-2xl font-bold text-gray-900\">\n              {formatCurrency(metrics.pendingRevenue)}\n            </span>\n            <span className=\"text-sm text-amber-600 font-bold\">\n              {metrics.pendingSales} aguardando\n            </span>\n          </motion.div>\n        </div>\n      </section>\n\n      <section className=\"flex flex-col gap-4\">\n        <div className=\"flex items-center justify-between\">\n          <span className=\"text-sm font-semibold text-gray-700\">\n            Atalhos r√°pidos\n          </span>\n        </div>\n        <div className=\"grid grid-cols-3 gap-3\">\n          <button\n            onClick={onNewSale}\n            className=\"rounded-2xl border-2 border-gray-200 bg-white p-4 flex flex-col items-start gap-2 hover:border-blue-300 hover:shadow-sm transition-all focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2\"\n            aria-label=\"Nova venda\"\n          >\n            <span className=\"rounded-full bg-blue-100 text-blue-600 text-base px-2 py-1\">\n              ‚ö°\n            </span>\n            <span className=\"text-xs text-gray-700 font-bold\">Nova venda</span>\n          </button>\n          <button\n            onClick={onGoProducts}\n            className=\"rounded-2xl border-2 border-gray-200 bg-white p-4 flex flex-col items-start gap-2 hover:border-blue-300 hover:shadow-sm transition-all focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2\"\n            aria-label=\"Ver produtos\"\n          >\n            <span className=\"rounded-full bg-gray-100 text-gray-700 text-base px-2 py-1\">\n              üì¶\n            </span>\n            <span className=\"text-xs text-gray-700 font-bold\">Produtos</span>\n          </button>\n          <button\n            onClick={onGoSalesHistory}\n            className=\"rounded-2xl border-2 border-gray-200 bg-white p-4 flex flex-col items-start gap-2 hover:border-blue-300 hover:shadow-sm transition-all focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2\"\n            aria-label=\"Ver hist√≥rico de vendas\"\n          >\n            <span className=\"rounded-full bg-gray-100 text-gray-700 text-base px-2 py-1\">\n              üßæ\n            </span>\n            <span className=\"text-xs text-gray-700 font-bold\">Vendas</span>\n          </button>\n        </div>\n      </section>\n    </PageShell>\n  );\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 776, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 781, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/ProductForm.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { supabase } from '@/lib/supabase';\nimport { useDialog } from '@/contexts/DialogContext';\n\ninterface Product {\n  id?: string;\n  name: string;\n  price: number;\n  stock: number;\n}\n\ninterface ProductFormProps {\n  product?: Product;\n  onSave: () => void;\n  onCancel: () => void;\n}\n\nexport const ProductForm: React.FC<ProductFormProps> = ({\n  product,\n  onSave,\n  onCancel,\n}) => {\n  const [name, setName] = useState(product?.name || '');\n  const [price, setPrice] = useState(product?.price?.toString() || '');\n  const [stock, setStock] = useState(product?.stock?.toString() || '');\n  const [loading, setLoading] = useState(false);\n  const { showError } = useDialog();\n\n  useEffect(() => {\n    if (product) {\n      setName(product.name);\n      setPrice(product.price.toString());\n      setStock(product.stock.toString());\n    } else {\n      setName('');\n      setPrice('');\n      setStock('');\n    }\n  }, [product]);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setLoading(true);\n\n    try {\n      const { data: stores, error: storeError } = await supabase\n        .from('stores')\n        .select('id')\n        .limit(1);\n\n      if (storeError) {\n        await showError(\n          'Erro ao buscar informa√ß√µes da loja. Tente novamente.',\n          'Erro'\n        );\n        setLoading(false);\n        return;\n      }\n\n      const storeId = stores?.[0]?.id;\n\n      if (!storeId) {\n        await showError(\n          'Nenhuma loja encontrada. Configure sua loja primeiro.',\n          'Loja n√£o encontrada'\n        );\n        setLoading(false);\n        return;\n      }\n\n      const productData = {\n        store_id: storeId,\n        name,\n        price: parseFloat(price.replace(',', '.')),\n        stock: parseInt(stock),\n        is_active: true,\n      };\n\n      if (product?.id) {\n        const { error } = await supabase\n          .from('products')\n          .update(productData)\n          .eq('id', product.id);\n\n        if (error) {\n          await showError(\n            `N√£o foi poss√≠vel atualizar o produto: ${error.message}`,\n            'Erro ao atualizar'\n          );\n          setLoading(false);\n          return;\n        }\n      } else {\n        const { error } = await supabase.from('products').insert(productData);\n\n        if (error) {\n          await showError(\n            `N√£o foi poss√≠vel criar o produto: ${error.message}`,\n            'Erro ao criar'\n          );\n          setLoading(false);\n          return;\n        }\n      }\n\n      onSave();\n    } catch (error: any) {\n      await showError(\n        `Erro inesperado ao salvar produto: ${error?.message || 'Tente novamente.'}`,\n        'Erro'\n      );\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50\">\n      <div className=\"bg-white border-2 border-gray-300 rounded-3xl w-full max-w-sm p-6 shadow-2xl\">\n        <h2 className=\"text-xl font-bold text-gray-900 mb-6\">\n          {product ? 'Editar Produto' : 'Novo Produto'}\n        </h2>\n\n        <form onSubmit={handleSubmit} className=\"flex flex-col gap-5\">\n          <div className=\"flex flex-col gap-2\">\n            <label className=\"text-sm font-bold text-gray-900\">Nome</label>\n            <input\n              type=\"text\"\n              value={name}\n              onChange={(e) => setName(e.target.value)}\n              className=\"bg-white border-2 border-gray-300 rounded-xl px-4 py-3 text-sm text-gray-900 font-medium focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n              placeholder=\"Ex: Corte de Cabelo\"\n              required\n            />\n          </div>\n\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div className=\"flex flex-col gap-2\">\n              <label className=\"text-sm font-bold text-gray-900\">\n                Pre√ßo (R$)\n              </label>\n              <input\n                type=\"number\"\n                step=\"0.01\"\n                value={price}\n                onChange={(e) => setPrice(e.target.value)}\n                className=\"bg-white border-2 border-gray-300 rounded-xl px-4 py-3 text-sm text-gray-900 font-medium focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                placeholder=\"0,00\"\n                required\n              />\n            </div>\n            <div className=\"flex flex-col gap-2\">\n              <label className=\"text-sm font-bold text-gray-900\">Estoque</label>\n              <input\n                type=\"number\"\n                value={stock}\n                onChange={(e) => setStock(e.target.value)}\n                className=\"bg-white border-2 border-gray-300 rounded-xl px-4 py-3 text-sm text-gray-900 font-medium focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                placeholder=\"0\"\n                required\n              />\n            </div>\n          </div>\n\n          <div className=\"flex gap-3 mt-2\">\n            <button\n              type=\"button\"\n              onClick={onCancel}\n              className=\"flex-1 rounded-xl border-2 border-gray-300 bg-white py-3 text-sm font-bold text-gray-900 hover:bg-gray-50 transition-colors focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2\"\n              aria-label=\"Cancelar edi√ß√£o\"\n            >\n              Cancelar\n            </button>\n            <button\n              type=\"submit\"\n              disabled={loading}\n              className=\"flex-1 rounded-xl bg-blue-600 py-3 text-sm font-bold text-white hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2\"\n              aria-label=\"Salvar produto\"\n            >\n              {loading ? (\n                <span className=\"flex items-center justify-center gap-2\">\n                  <span className=\"inline-block animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent\"></span>\n                  Salvando...\n                </span>\n              ) : (\n                'Salvar'\n              )}\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1036, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1041, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/ProductsScreen.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { PageShell } from './PageShell';\nimport { supabase } from '@/lib/supabase';\nimport { ProductForm } from './ProductForm';\nimport { useDialog } from '@/contexts/DialogContext';\n\ntype NavTab = 'dashboard' | 'products' | 'profile';\n\ninterface Product {\n  id: string;\n  name: string;\n  price: number;\n  stock: number;\n}\n\ninterface ProductsScreenProps {\n  onBack: () => void;\n  activeTab?: NavTab;\n  onNavigate?: (tab: NavTab) => void;\n}\n\nexport const ProductsScreen: React.FC<ProductsScreenProps> = ({\n  onBack,\n  activeTab,\n  onNavigate,\n}) => {\n  const [products, setProducts] = useState<Product[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [isFormOpen, setIsFormOpen] = useState(false);\n  const [editingProduct, setEditingProduct] = useState<Product | undefined>(\n    undefined\n  );\n  const { showConfirm, showError } = useDialog();\n\n  useEffect(() => {\n    fetchProducts();\n  }, []);\n\n  const fetchProducts = async () => {\n    setLoading(true);\n    const { data, error } = await supabase\n      .from('products')\n      .select('id, name, price, stock')\n      .eq('is_active', true)\n      .order('name');\n\n    if (data) {\n      setProducts(data);\n    }\n    setLoading(false);\n  };\n\n  const handleAdd = () => {\n    setEditingProduct(undefined);\n    setIsFormOpen(true);\n  };\n\n  const handleEdit = (product: Product) => {\n    setEditingProduct(product);\n    setIsFormOpen(true);\n  };\n\n  const handleDelete = async (id: string) => {\n    const confirmed = await showConfirm(\n      'Tem certeza que deseja excluir este produto?',\n      'Confirmar exclus√£o'\n    );\n\n    if (!confirmed) return;\n\n    const { error } = await supabase\n      .from('products')\n      .update({ is_active: false })\n      .eq('id', id);\n\n    if (error) {\n      await showError('Erro ao excluir produto');\n    } else {\n      fetchProducts();\n    }\n  };\n\n  const formatCurrency = (value: number) =>\n    value.toLocaleString('pt-BR', {\n      style: 'currency',\n      currency: 'BRL',\n      minimumFractionDigits: 2,\n    });\n\n  return (\n    <PageShell\n      title=\"Produtos\"\n      onBack={onBack}\n      activeTab={activeTab}\n      onNavigate={onNavigate}\n    >\n      <div className=\"flex flex-col gap-4\">\n        <button\n          onClick={handleAdd}\n          className=\"w-full rounded-2xl border-2 border-dashed border-gray-300 bg-white px-4 py-4 flex items-center justify-between hover:border-blue-400 hover:bg-blue-50 transition-all focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2\"\n          aria-label=\"Adicionar novo produto\"\n        >\n          <span className=\"flex items-center gap-3\">\n            <span className=\"h-8 w-8 rounded-full border-2 border-gray-400 flex items-center justify-center text-base text-gray-700 font-bold\">\n              Ôºã\n            </span>\n            <span className=\"text-sm font-bold text-gray-800\">\n              Novo produto\n            </span>\n          </span>\n        </button>\n\n        <div className=\"flex flex-col gap-3\">\n          {loading ? (\n            <div className=\"p-8 text-center bg-white rounded-2xl border-2 border-gray-200\">\n              <div className=\"inline-block animate-spin rounded-full h-8 w-8 border-4 border-gray-200 border-t-blue-600 mb-3\"></div>\n              <p className=\"text-sm text-gray-600 font-medium\">\n                Carregando produtos...\n              </p>\n            </div>\n          ) : products.length === 0 ? (\n            <div className=\"p-8 text-center bg-white rounded-2xl border-2 border-gray-200\">\n              <span className=\"text-4xl mb-3 block\">üì¶</span>\n              <p className=\"text-sm text-gray-600 font-medium\">\n                Nenhum produto encontrado.\n              </p>\n              <p className=\"text-xs text-gray-500 mt-1\">\n                Adicione seu primeiro produto acima\n              </p>\n            </div>\n          ) : (\n            products.map((p) => (\n              <div\n                key={p.id}\n                className=\"flex items-center justify-between px-5 py-4 bg-white rounded-2xl border-2 border-gray-200 hover:border-blue-300 hover:shadow-md transition-all\"\n              >\n                <div className=\"flex flex-col gap-1\">\n                  <span className=\"text-sm font-bold text-gray-900\">\n                    {p.name}\n                  </span>\n                  <span className=\"text-xs text-gray-700 font-medium\">\n                    {formatCurrency(p.price)} ¬∑ estoque {p.stock}\n                  </span>\n                </div>\n                <div className=\"flex items-center gap-4\">\n                  <button\n                    onClick={() => handleEdit(p)}\n                    className=\"text-xs font-bold text-blue-600 hover:text-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 rounded px-2 py-1\"\n                    aria-label={`Editar produto ${p.name}`}\n                  >\n                    Editar\n                  </button>\n                  <button\n                    onClick={() => handleDelete(p.id)}\n                    className=\"text-xs font-bold text-red-600 hover:text-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 rounded px-2 py-1\"\n                    aria-label={`Excluir produto ${p.name}`}\n                  >\n                    Excluir\n                  </button>\n                </div>\n              </div>\n            ))\n          )}\n        </div>\n      </div>\n\n      {isFormOpen && (\n        <ProductForm\n          key={editingProduct?.id || 'new'}\n          product={editingProduct}\n          onSave={() => {\n            setIsFormOpen(false);\n            fetchProducts();\n          }}\n          onCancel={() => setIsFormOpen(false)}\n        />\n      )}\n    </PageShell>\n  );\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1296, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1301, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/NewSaleScreen.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { PageShell } from './PageShell';\nimport { supabase } from '@/lib/supabase';\nimport { useDialog } from '@/contexts/DialogContext';\n\ninterface Product {\n  id: string;\n  name: string;\n  price: number;\n  stock: number;\n}\n\ninterface CartItem {\n  product: Product;\n  quantity: number;\n}\n\ninterface NewSaleScreenProps {\n  cart: CartItem[];\n  onAdd: (product: Product) => void;\n  onRemove: (product: Product) => void;\n  onFinalize: () => void;\n  onBack: () => void;\n}\n\nexport const NewSaleScreen: React.FC<NewSaleScreenProps> = ({\n  cart,\n  onAdd,\n  onRemove,\n  onFinalize,\n  onBack,\n}) => {\n  const [products, setProducts] = useState<Product[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  const { showError } = useDialog();\n\n  useEffect(() => {\n    fetchProducts();\n  }, []);\n\n  const fetchProducts = async () => {\n    setLoading(true);\n    try {\n      const { data, error } = await supabase\n        .from('products')\n        .select('id, name, price, stock')\n        .eq('is_active', true)\n        .gt('stock', 0)\n        .order('name');\n\n      if (error) {\n        await showError(\n          'N√£o foi poss√≠vel carregar os produtos. Verifique sua conex√£o.',\n          'Erro ao carregar produtos'\n        );\n        return;\n      }\n\n      if (data) {\n        setProducts(data);\n      }\n    } catch (error: any) {\n      await showError(\n        `Erro inesperado: ${error?.message || 'Tente novamente.'}`,\n        'Erro'\n      );\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const total = cart.reduce(\n    (acc, item) => acc + item.product.price * item.quantity,\n    0\n  );\n\n  const formatCurrency = (value: number) =>\n    value.toLocaleString('pt-BR', {\n      style: 'currency',\n      currency: 'BRL',\n      minimumFractionDigits: 2,\n    });\n\n  return (\n    <PageShell title=\"Nova venda\" onBack={onBack}>\n      <div className=\"flex flex-col gap-4 flex-1 min-h-0\">\n        <div className=\"rounded-2xl border-2 border-gray-200 bg-white divide-y-2 divide-gray-100 shadow-sm overflow-hidden flex-1 overflow-y-auto\">\n          {loading ? (\n            <div className=\"p-8 text-center\">\n              <div className=\"inline-block animate-spin rounded-full h-8 w-8 border-4 border-gray-200 border-t-blue-600 mb-3\"></div>\n              <p className=\"text-sm text-gray-600 font-medium\">\n                Carregando produtos...\n              </p>\n            </div>\n          ) : products.length === 0 ? (\n            <div className=\"p-8 text-center\">\n              <span className=\"text-4xl mb-3 block\">üì¶</span>\n              <p className=\"text-sm text-gray-600 font-medium\">\n                Nenhum produto dispon√≠vel.\n              </p>\n              <p className=\"text-xs text-gray-500 mt-1\">\n                Adicione produtos na tela de produtos\n              </p>\n            </div>\n          ) : (\n            products.map((p) => {\n              const cartItem = cart.find((c) => c.product.id === p.id);\n              return (\n                <div\n                  key={p.id}\n                  className=\"flex items-center justify-between px-5 py-4\"\n                >\n                  <div className=\"flex flex-col gap-1\">\n                    <span className=\"text-sm font-semibold text-gray-900\">\n                      {p.name}\n                    </span>\n                    <span className=\"text-xs text-gray-600 font-medium\">\n                      {formatCurrency(p.price)} ¬∑ {p.stock} em estoque\n                    </span>\n                  </div>\n                  <div className=\"flex items-center gap-3\">\n                    {cartItem && (\n                      <button\n                        onClick={() => onRemove(p)}\n                        className=\"h-9 w-9 rounded-full border-2 border-gray-300 text-base font-bold flex items-center justify-center text-gray-700 hover:bg-gray-50 hover:border-gray-400 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2\"\n                        aria-label={`Remover ${p.name} do carrinho`}\n                      >\n                        ‚àí\n                      </button>\n                    )}\n                    <motion.span\n                      key={cartItem?.quantity ?? 0}\n                      initial={{ scale: 0.9, opacity: 0 }}\n                      animate={{ scale: 1, opacity: 1 }}\n                      className=\"min-w-[28px] text-center text-base text-gray-900 font-bold\"\n                    >\n                      {cartItem?.quantity ?? 0}\n                    </motion.span>\n                    <button\n                      onClick={() => onAdd(p)}\n                      className=\"h-9 w-9 rounded-full bg-blue-600 text-white text-base font-bold flex items-center justify-center hover:bg-blue-700 transition-colors shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2\"\n                      aria-label={`Adicionar ${p.name} ao carrinho`}\n                    >\n                      Ôºã\n                    </button>\n                  </div>\n                </div>\n              );\n            })\n          )}\n        </div>\n      </div>\n\n      <AnimatePresence>\n        {total > 0 && (\n          <motion.div\n            initial={{ y: 60, opacity: 0 }}\n            animate={{ y: 0, opacity: 1 }}\n            exit={{ y: 60, opacity: 0 }}\n            transition={{ type: 'spring', stiffness: 380, damping: 32 }}\n            className=\"sticky bottom-0 left-0 right-0 mt-auto\"\n          >\n            <div className=\"rounded-2xl border-2 border-blue-200 bg-white backdrop-blur shadow-lg px-5 py-4 flex items-center justify-between\">\n              <div className=\"flex flex-col gap-1\">\n                <span className=\"text-xs text-gray-600 font-semibold uppercase tracking-wide\">\n                  Total da venda\n                </span>\n                <span className=\"text-xl font-bold text-gray-900\">\n                  {formatCurrency(total)}\n                </span>\n              </div>\n              <button\n                onClick={onFinalize}\n                className=\"rounded-xl bg-blue-600 text-white text-sm font-bold px-5 py-3 flex items-center gap-2 hover:bg-blue-700 transition-colors shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2\"\n                aria-label=\"Finalizar venda\"\n              >\n                Finalizar\n                <span>‚Üí</span>\n              </button>\n            </div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </PageShell>\n  );\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1598, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1603, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/PaymentScreens.tsx"],"sourcesContent":["import React from 'react';\nimport { motion } from 'framer-motion';\nimport { PageShell } from './PageShell';\nimport { supabase } from '@/lib/supabase';\nimport { useEffect } from 'react';\nimport { useDialog } from '@/contexts/DialogContext';\n\ninterface PaymentMethodScreenProps {\n  total: number;\n  onSelect: (method: 'pix' | 'link' | 'cash') => void;\n  onBack: () => void;\n}\n\nexport const PaymentMethodScreen: React.FC<PaymentMethodScreenProps> = ({\n  total,\n  onSelect,\n  onBack,\n}) => {\n  const formatCurrency = (value: number) =>\n    value.toLocaleString('pt-BR', {\n      style: 'currency',\n      currency: 'BRL',\n      minimumFractionDigits: 2,\n    });\n\n  return (\n    <PageShell title=\"Forma de pagamento\" onBack={onBack}>\n      <div className=\"flex flex-col gap-4\">\n        <div className=\"rounded-2xl border-2 border-blue-200 bg-blue-50 px-5 py-4 flex items-center justify-between shadow-sm\">\n          <div className=\"flex flex-col gap-1\">\n            <span className=\"text-xs text-gray-600 font-semibold uppercase tracking-wide\">\n              Total da venda\n            </span>\n            <span className=\"text-2xl font-bold text-gray-900\">\n              {formatCurrency(total)}\n            </span>\n          </div>\n        </div>\n\n        <div className=\"flex flex-col gap-3\">\n          <motion.button\n            whileTap={{ scale: 0.98 }}\n            onClick={() => onSelect('pix')}\n            className=\"w-full rounded-2xl border-2 border-emerald-500 bg-emerald-50 px-5 py-4 flex items-center justify-between hover:border-emerald-600 hover:bg-emerald-100 transition-all shadow-sm\"\n            aria-label=\"Selecionar pagamento via PIX\"\n          >\n            <div className=\"flex items-center gap-3\">\n              <span className=\"h-10 w-10 rounded-full bg-emerald-500 text-white flex items-center justify-center text-lg font-bold\">\n                ‚¨¢\n              </span>\n              <div className=\"flex flex-col items-start\">\n                <span className=\"text-sm font-bold text-gray-900\">\n                  PIX imediato\n                </span>\n                <span className=\"text-xs text-gray-600 font-medium\">\n                  QR din√¢mico via Asaas\n                </span>\n              </div>\n            </div>\n            <span className=\"text-xs text-emerald-600 font-bold bg-emerald-100 px-2 py-1 rounded-full\">\n              Recomendado\n            </span>\n          </motion.button>\n\n          <motion.button\n            whileTap={{ scale: 0.98 }}\n            onClick={() => onSelect('link')}\n            className=\"w-full rounded-2xl border-2 border-gray-200 bg-white px-5 py-4 flex items-center justify-between hover:border-blue-300 hover:shadow-sm transition-all\"\n            aria-label=\"Selecionar pagamento via link\"\n          >\n            <div className=\"flex items-center gap-3\">\n              <span className=\"h-10 w-10 rounded-full bg-gray-100 text-gray-700 flex items-center justify-center text-lg\">\n                üîó\n              </span>\n              <div className=\"flex flex-col items-start\">\n                <span className=\"text-sm font-bold text-gray-900\">\n                  Link de pagamento\n                </span>\n                <span className=\"text-xs text-gray-600 font-medium\">\n                  Cart√£o ou PIX pelo celular do cliente\n                </span>\n              </div>\n            </div>\n          </motion.button>\n\n          <motion.button\n            whileTap={{ scale: 0.98 }}\n            onClick={() => onSelect('cash')}\n            className=\"w-full rounded-2xl border-2 border-gray-200 bg-white px-5 py-4 flex items-center justify-between hover:border-blue-300 hover:shadow-sm transition-all\"\n            aria-label=\"Selecionar pagamento em dinheiro\"\n          >\n            <div className=\"flex items-center gap-3\">\n              <span className=\"h-10 w-10 rounded-full bg-gray-100 text-gray-700 flex items-center justify-center text-lg\">\n                üíµ\n              </span>\n              <div className=\"flex flex-col items-start\">\n                <span className=\"text-sm font-bold text-gray-900\">\n                  Dinheiro\n                </span>\n                <span className=\"text-xs text-gray-600 font-medium\">\n                  Voc√™ confirma manualmente o recebimento\n                </span>\n              </div>\n            </div>\n          </motion.button>\n        </div>\n      </div>\n    </PageShell>\n  );\n};\n\ninterface PaymentWaitingScreenProps {\n  total: number;\n  method: string;\n  saleId: string | null;\n  onBack: () => void;\n  onPaymentConfirmed: () => void;\n}\n\nexport const PaymentWaitingScreen: React.FC<PaymentWaitingScreenProps> = ({\n  total,\n  method,\n  saleId,\n  onBack,\n  onPaymentConfirmed,\n}) => {\n  const { showError } = useDialog();\n\n  useEffect(() => {\n    if (!saleId) return;\n\n    // 1. Realtime Subscription\n    const channel = supabase\n      .channel('payment-status')\n      .on(\n        'postgres_changes',\n        {\n          event: 'UPDATE',\n          schema: 'public',\n          table: 'payments',\n          filter: `sale_id=eq.${saleId}`,\n        },\n        (payload) => {\n          const newStatus = payload.new.status;\n          if (newStatus === 'PAID') {\n            onPaymentConfirmed();\n          }\n        }\n      )\n      .subscribe();\n\n    // 2. Polling Fallback (every 3s)\n    const interval = setInterval(async () => {\n      try {\n        const { data, error } = await supabase\n          .from('payments')\n          .select('status')\n          .eq('sale_id', saleId)\n          .single();\n\n        if (error) {\n          console.error('Error polling payment status:', error);\n          return;\n        }\n\n        if (data?.status === 'PAID') {\n          onPaymentConfirmed();\n        }\n      } catch (error) {\n        console.error('Unexpected error in payment polling:', error);\n      }\n    }, 3000);\n\n    return () => {\n      supabase.removeChannel(channel);\n      clearInterval(interval);\n    };\n  }, [saleId, onPaymentConfirmed, showError]);\n  const formatCurrency = (value: number) =>\n    value.toLocaleString('pt-BR', {\n      style: 'currency',\n      currency: 'BRL',\n      minimumFractionDigits: 2,\n    });\n\n  return (\n    <PageShell title=\"Aguardando pagamento\" onBack={onBack}>\n      <div className=\"flex flex-col gap-6 items-center\">\n        <div className=\"flex flex-col items-center gap-3\">\n          <span className=\"text-sm text-gray-600 font-semibold mb-2\">\n            Mostre este QR code para o cliente\n          </span>\n          <div className=\"rounded-3xl border-2 border-gray-200 bg-white p-6 inline-flex shadow-lg\">\n            <div className=\"h-48 w-48 rounded-2xl bg-gradient-to-br from-blue-50 to-emerald-50 flex items-center justify-center border-2 border-gray-100\">\n              <div className=\"h-40 w-40 bg-white rounded-xl grid grid-cols-4 grid-rows-4 gap-1 p-3 border-2 border-gray-200\">\n                {Array.from({ length: 16 }).map((_, i) => (\n                  <div\n                    key={i}\n                    className={`rounded-sm ${i % 3 === 0 ? 'bg-gray-900' : 'bg-gray-100'}`}\n                  />\n                ))}\n              </div>\n            </div>\n          </div>\n          <p className=\"text-xs text-gray-500 max-w-xs text-center mt-2 font-medium\">\n            Este √© um QR ilustrativo. No projeto real, aqui entra o QR code\n            din√¢mico retornado pela API do Asaas.\n          </p>\n        </div>\n\n        <div className=\"w-full rounded-2xl border-2 border-gray-200 bg-white px-5 py-4 flex flex-col gap-3 shadow-sm\">\n          <div className=\"flex items-center justify-between\">\n            <span className=\"text-xs text-gray-600 font-semibold uppercase tracking-wide\">\n              Total\n            </span>\n            <span className=\"text-lg font-bold text-gray-900\">\n              {formatCurrency(total)}\n            </span>\n          </div>\n          <div className=\"h-px bg-gray-200\" />\n          <div className=\"flex items-center justify-between\">\n            <span className=\"text-xs text-gray-600 font-semibold uppercase tracking-wide\">\n              M√©todo\n            </span>\n            <span className=\"text-xs text-gray-900 font-bold uppercase\">\n              {method === 'pix'\n                ? 'PIX'\n                : method === 'link'\n                  ? 'Link'\n                  : 'Dinheiro'}\n            </span>\n          </div>\n        </div>\n\n        <div className=\"w-full flex flex-col gap-3\">\n          <button\n            className=\"w-full rounded-2xl border-2 border-gray-200 bg-white px-5 py-3 flex items-center justify-between hover:border-blue-300 hover:shadow-sm transition-all\"\n            aria-label=\"Copiar c√≥digo PIX\"\n          >\n            <span className=\"text-sm font-bold text-gray-900\">\n              Copiar c√≥digo PIX\n            </span>\n            <span className=\"text-xs text-gray-500 font-medium\">\n              copia e cola\n            </span>\n          </button>\n          <button\n            className=\"w-full rounded-2xl border-2 border-gray-200 bg-white px-5 py-3 flex items-center justify-between hover:border-blue-300 hover:shadow-sm transition-all\"\n            aria-label=\"Enviar link pelo WhatsApp\"\n          >\n            <span className=\"text-sm font-bold text-gray-900\">\n              Enviar link pelo WhatsApp\n            </span>\n            <span className=\"text-xs text-gray-500 font-medium\">\n              compartilhar\n            </span>\n          </button>\n        </div>\n      </div>\n    </PageShell>\n  );\n};\n\ninterface PaymentConfirmationScreenProps {\n  total: number;\n  onNewSale: () => void;\n}\n\nexport const PaymentConfirmationScreen: React.FC<\n  PaymentConfirmationScreenProps\n> = ({ total, onNewSale }) => {\n  const formatCurrency = (value: number) =>\n    value.toLocaleString('pt-BR', {\n      style: 'currency',\n      currency: 'BRL',\n      minimumFractionDigits: 2,\n    });\n\n  return (\n    <PageShell title=\"Pagamento recebido\">\n      <div className=\"flex flex-col items-center mt-8 gap-6\">\n        <motion.div\n          initial={{ scale: 0.8, opacity: 0 }}\n          animate={{ scale: 1, opacity: 1 }}\n          transition={{ type: 'spring', stiffness: 280, damping: 18 }}\n          className=\"h-20 w-20 rounded-full bg-emerald-100 border-2 border-emerald-500 flex items-center justify-center shadow-lg\"\n        >\n          <span className=\"text-4xl\">‚úÖ</span>\n        </motion.div>\n        <div className=\"flex flex-col items-center gap-2\">\n          <h2 className=\"text-xl font-bold text-gray-900\">\n            Pagamento aprovado\n          </h2>\n          <p className=\"text-sm text-gray-600 font-medium\">\n            {formatCurrency(total)} recebidos\n          </p>\n        </div>\n\n        <div className=\"w-full flex flex-col gap-3 mt-2\">\n          <button\n            className=\"w-full rounded-2xl bg-emerald-500 text-white px-5 py-4 font-bold text-sm flex items-center justify-center gap-2 hover:bg-emerald-600 transition-colors shadow-sm\"\n            aria-label=\"Enviar recibo\"\n          >\n            Enviar recibo\n            <span>üßæ</span>\n          </button>\n          <button\n            onClick={onNewSale}\n            className=\"w-full rounded-2xl border-2 border-gray-200 bg-white px-5 py-4 text-gray-900 font-bold text-sm hover:border-blue-300 hover:shadow-sm transition-all\"\n            aria-label=\"Iniciar nova venda\"\n          >\n            Nova venda\n          </button>\n        </div>\n      </div>\n    </PageShell>\n  );\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAaO,MAAM,sBAA0D,CAAC,EACtE,KAAK,EACL,QAAQ,EACR,MAAM,EACP;IACC,MAAM,iBAAiB,CAAC,QACtB,MAAM,cAAc,CAAC,SAAS;YAC5B,OAAO;YACP,UAAU;YACV,uBAAuB;QACzB;IAEF,qBACE;QAAW,OAAM;QAAqB,QAAQ;kBAC5C,cAAA,mPAAC;YAAI,WAAU;;8BACb,mPAAC;oBAAI,WAAU;8BACb,cAAA,mPAAC;wBAAI,WAAU;;0CACb,mPAAC;gCAAK,WAAU;0CAA8D;;;;;;0CAG9E,mPAAC;gCAAK,WAAU;0CACb,eAAe;;;;;;;;;;;;;;;;;8BAKtB,mPAAC;oBAAI,WAAU;;sCACb,mPAAC,qMAAO,MAAM;4BACZ,UAAU;gCAAE,OAAO;4BAAK;4BACxB,SAAS,IAAM,SAAS;4BACxB,WAAU;4BACV,cAAW;;8CAEX,mPAAC;oCAAI,WAAU;;sDACb,mPAAC;4CAAK,WAAU;sDAAsG;;;;;;sDAGtH,mPAAC;4CAAI,WAAU;;8DACb,mPAAC;oDAAK,WAAU;8DAAkC;;;;;;8DAGlD,mPAAC;oDAAK,WAAU;8DAAoC;;;;;;;;;;;;;;;;;;8CAKxD,mPAAC;oCAAK,WAAU;8CAA2E;;;;;;;;;;;;sCAK7F,mPAAC,qMAAO,MAAM;4BACZ,UAAU;gCAAE,OAAO;4BAAK;4BACxB,SAAS,IAAM,SAAS;4BACxB,WAAU;4BACV,cAAW;sCAEX,cAAA,mPAAC;gCAAI,WAAU;;kDACb,mPAAC;wCAAK,WAAU;kDAA4F;;;;;;kDAG5G,mPAAC;wCAAI,WAAU;;0DACb,mPAAC;gDAAK,WAAU;0DAAkC;;;;;;0DAGlD,mPAAC;gDAAK,WAAU;0DAAoC;;;;;;;;;;;;;;;;;;;;;;;sCAO1D,mPAAC,qMAAO,MAAM;4BACZ,UAAU;gCAAE,OAAO;4BAAK;4BACxB,SAAS,IAAM,SAAS;4BACxB,WAAU;4BACV,cAAW;sCAEX,cAAA,mPAAC;gCAAI,WAAU;;kDACb,mPAAC;wCAAK,WAAU;kDAA4F;;;;;;kDAG5G,mPAAC;wCAAI,WAAU;;0DACb,mPAAC;gDAAK,WAAU;0DAAkC;;;;;;0DAGlD,mPAAC;gDAAK,WAAU;0DAAoC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUpE;AAUO,MAAM,uBAA4D,CAAC,EACxE,KAAK,EACL,MAAM,EACN,MAAM,EACN,MAAM,EACN,kBAAkB,EACnB;IACC,MAAM,EAAE,SAAS,EAAE,GAAG;IAEtB,6NAAU;QACR,IAAI,CAAC,QAAQ;QAEb,2BAA2B;QAC3B,MAAM,UAAU,4HACb,OAAO,CAAC,kBACR,EAAE,CACD,oBACA;YACE,OAAO;YACP,QAAQ;YACR,OAAO;YACP,QAAQ,CAAC,WAAW,EAAE,OAAO,CAAC;QAChC,GACA,CAAC;YACC,MAAM,YAAY,QAAQ,GAAG,CAAC,MAAM;YACpC,IAAI,cAAc,QAAQ;gBACxB;YACF;QACF,GAED,SAAS;QAEZ,iCAAiC;QACjC,MAAM,WAAW,YAAY;YAC3B,IAAI;gBACF,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,4HAC3B,IAAI,CAAC,YACL,MAAM,CAAC,UACP,EAAE,CAAC,WAAW,QACd,MAAM;gBAET,IAAI,OAAO;oBACT,QAAQ,KAAK,CAAC,iCAAiC;oBAC/C;gBACF;gBAEA,IAAI,MAAM,WAAW,QAAQ;oBAC3B;gBACF;YACF,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,wCAAwC;YACxD;QACF,GAAG;QAEH,OAAO;YACL,4HAAS,aAAa,CAAC;YACvB,cAAc;QAChB;IACF,GAAG;QAAC;QAAQ;QAAoB;KAAU;IAC1C,MAAM,iBAAiB,CAAC,QACtB,MAAM,cAAc,CAAC,SAAS;YAC5B,OAAO;YACP,UAAU;YACV,uBAAuB;QACzB;IAEF,qBACE;QAAW,OAAM;QAAuB,QAAQ;kBAC9C,cAAA,mPAAC;YAAI,WAAU;;8BACb,mPAAC;oBAAI,WAAU;;sCACb,mPAAC;4BAAK,WAAU;sCAA2C;;;;;;sCAG3D,mPAAC;4BAAI,WAAU;sCACb,cAAA,mPAAC;gCAAI,WAAU;0CACb,cAAA,mPAAC;oCAAI,WAAU;8CACZ,MAAM,IAAI,CAAC;wCAAE,QAAQ;oCAAG,GAAG,GAAG,CAAC,CAAC,GAAG,kBAClC,mPAAC;4CAEC,WAAW,CAAC,WAAW,EAAE,IAAI,MAAM,IAAI,gBAAgB,cAAc,CAAC;2CADjE;;;;;;;;;;;;;;;;;;;;sCAOf,mPAAC;4BAAE,WAAU;sCAA8D;;;;;;;;;;;;8BAM7E,mPAAC;oBAAI,WAAU;;sCACb,mPAAC;4BAAI,WAAU;;8CACb,mPAAC;oCAAK,WAAU;8CAA8D;;;;;;8CAG9E,mPAAC;oCAAK,WAAU;8CACb,eAAe;;;;;;;;;;;;sCAGpB,mPAAC;4BAAI,WAAU;;;;;;sCACf,mPAAC;4BAAI,WAAU;;8CACb,mPAAC;oCAAK,WAAU;8CAA8D;;;;;;8CAG9E,mPAAC;oCAAK,WAAU;8CACb,WAAW,QACR,QACA,WAAW,SACT,SACA;;;;;;;;;;;;;;;;;;8BAKZ,mPAAC;oBAAI,WAAU;;sCACb,mPAAC;4BACC,WAAU;4BACV,cAAW;;8CAEX,mPAAC;oCAAK,WAAU;8CAAkC;;;;;;8CAGlD,mPAAC;oCAAK,WAAU;8CAAoC;;;;;;;;;;;;sCAItD,mPAAC;4BACC,WAAU;4BACV,cAAW;;8CAEX,mPAAC;oCAAK,WAAU;8CAAkC;;;;;;8CAGlD,mPAAC;oCAAK,WAAU;8CAAoC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQhE;AAOO,MAAM,4BAET,CAAC,EAAE,KAAK,EAAE,SAAS,EAAE;IACvB,MAAM,iBAAiB,CAAC,QACtB,MAAM,cAAc,CAAC,SAAS;YAC5B,OAAO;YACP,UAAU;YACV,uBAAuB;QACzB;IAEF,qBACE;QAAW,OAAM;kBACf,cAAA,mPAAC;YAAI,WAAU;;8BACb,mPAAC,qMAAO,GAAG;oBACT,SAAS;wBAAE,OAAO;wBAAK,SAAS;oBAAE;oBAClC,SAAS;wBAAE,OAAO;wBAAG,SAAS;oBAAE;oBAChC,YAAY;wBAAE,MAAM;wBAAU,WAAW;wBAAK,SAAS;oBAAG;oBAC1D,WAAU;8BAEV,cAAA,mPAAC;wBAAK,WAAU;kCAAW;;;;;;;;;;;8BAE7B,mPAAC;oBAAI,WAAU;;sCACb,mPAAC;4BAAG,WAAU;sCAAkC;;;;;;sCAGhD,mPAAC;4BAAE,WAAU;;gCACV,eAAe;gCAAO;;;;;;;;;;;;;8BAI3B,mPAAC;oBAAI,WAAU;;sCACb,mPAAC;4BACC,WAAU;4BACV,cAAW;;gCACZ;8CAEC,mPAAC;8CAAK;;;;;;;;;;;;sCAER,mPAAC;4BACC,SAAS;4BACT,WAAU;4BACV,cAAW;sCACZ;;;;;;;;;;;;;;;;;;;;;;;AAOX"}},
    {"offset": {"line": 2219, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2224, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/SalesHistoryScreen.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { PageShell } from './PageShell';\nimport { supabase } from '@/lib/supabase';\n\ntype NavTab = 'dashboard' | 'products' | 'profile';\n\ninterface Sale {\n  id: string;\n  created_at: string;\n  total: number;\n  status: string;\n}\n\ninterface SalesHistoryScreenProps {\n  onBack: () => void;\n  activeTab?: NavTab;\n  onNavigate?: (tab: NavTab) => void;\n}\n\nexport const SalesHistoryScreen: React.FC<SalesHistoryScreenProps> = ({\n  onBack,\n  activeTab,\n  onNavigate,\n}) => {\n  const [sales, setSales] = useState<Sale[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    fetchSales();\n  }, []);\n\n  const fetchSales = async () => {\n    setLoading(true);\n    const { data, error } = await supabase\n      .from('sales')\n      .select('id, created_at, total, status')\n      .order('created_at', { ascending: false })\n      .limit(20);\n\n    if (data) {\n      setSales(data);\n    }\n    setLoading(false);\n  };\n\n  const formatCurrency = (value: number) =>\n    value.toLocaleString('pt-BR', {\n      style: 'currency',\n      currency: 'BRL',\n      minimumFractionDigits: 2,\n    });\n\n  const formatDate = (dateString: string) => {\n    const date = new Date(dateString);\n    return new Intl.DateTimeFormat('pt-BR', {\n      day: '2-digit',\n      month: '2-digit',\n      hour: '2-digit',\n      minute: '2-digit',\n    }).format(date);\n  };\n\n  return (\n    <PageShell\n      title=\"Hist√≥rico de vendas\"\n      onBack={onBack}\n      activeTab={activeTab}\n      onNavigate={onNavigate}\n    >\n      <div className=\"flex flex-col gap-3\">\n        {loading ? (\n          <div className=\"p-8 text-center bg-white rounded-2xl border-2 border-gray-200\">\n            <div className=\"inline-block animate-spin rounded-full h-8 w-8 border-4 border-gray-200 border-t-blue-600 mb-3\"></div>\n            <p className=\"text-sm text-gray-600 font-medium\">\n              Carregando vendas...\n            </p>\n          </div>\n        ) : sales.length === 0 ? (\n          <div className=\"p-8 text-center bg-white rounded-2xl border-2 border-gray-200\">\n            <span className=\"text-4xl mb-3 block\">üìã</span>\n            <p className=\"text-sm text-gray-600 font-medium\">\n              Nenhuma venda encontrada.\n            </p>\n            <p className=\"text-xs text-gray-500 mt-1\">\n              As vendas aparecer√£o aqui\n            </p>\n          </div>\n        ) : (\n          <div className=\"rounded-2xl border-2 border-gray-200 bg-white divide-y-2 divide-gray-100 shadow-sm overflow-hidden\">\n            {sales.map((sale) => (\n              <div\n                key={sale.id}\n                className=\"flex items-center justify-between px-5 py-4 hover:bg-gray-50 transition-colors\"\n              >\n                <div className=\"flex flex-col gap-1\">\n                  <span className=\"text-sm font-bold text-gray-900\">\n                    {formatDate(sale.created_at)}\n                  </span>\n                  <span className=\"text-xs text-gray-500 font-medium\">\n                    #{sale.id.slice(0, 8)}\n                  </span>\n                </div>\n                <div className=\"flex flex-col items-end gap-1\">\n                  <span className=\"text-base font-bold text-gray-900\">\n                    {formatCurrency(sale.total)}\n                  </span>\n                  <span\n                    className={`text-xs font-bold px-2 py-0.5 rounded-full ${\n                      sale.status === 'PAID'\n                        ? 'text-emerald-700 bg-emerald-100'\n                        : 'text-amber-700 bg-amber-100'\n                    }`}\n                  >\n                    {sale.status === 'PAID' ? 'PAGO' : sale.status}\n                  </span>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n    </PageShell>\n  );\n};\n"],"names":[],"mappings":";;;;;;;;;;;;AAmBO,MAAM,qBAAwD,CAAC,EACpE,MAAM,EACN,SAAS,EACT,UAAU,EACX;IACC,MAAM,CAAC,OAAO,SAAS,GAAG,4NAAiB,EAAE;IAC7C,MAAM,CAAC,SAAS,WAAW,GAAG,4NAAS;IAEvC,6NAAU;QACR;IACF,GAAG,EAAE;IAEL,MAAM,aAAa;QACjB,WAAW;QACX,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,4HAC3B,IAAI,CAAC,SACL,MAAM,CAAC,iCACP,KAAK,CAAC,cAAc;YAAE,WAAW;QAAM,GACvC,KAAK,CAAC;QAET,IAAI,MAAM;YACR,SAAS;QACX;QACA,WAAW;IACb;IAEA,MAAM,iBAAiB,CAAC,QACtB,MAAM,cAAc,CAAC,SAAS;YAC5B,OAAO;YACP,UAAU;YACV,uBAAuB;QACzB;IAEF,MAAM,aAAa,CAAC;QAClB,MAAM,OAAO,IAAI,KAAK;QACtB,OAAO,IAAI,KAAK,cAAc,CAAC,SAAS;YACtC,KAAK;YACL,OAAO;YACP,MAAM;YACN,QAAQ;QACV,GAAG,MAAM,CAAC;IACZ;IAEA,qBACE;QACE,OAAM;QACN,QAAQ;QACR,WAAW;QACX,YAAY;kBAEZ,cAAA,mPAAC;YAAI,WAAU;sBACZ,wBACC,mPAAC;gBAAI,WAAU;;kCACb,mPAAC;wBAAI,WAAU;;;;;;kCACf,mPAAC;wBAAE,WAAU;kCAAoC;;;;;;;;;;;uBAIjD,MAAM,MAAM,KAAK,kBACnB,mPAAC;gBAAI,WAAU;;kCACb,mPAAC;wBAAK,WAAU;kCAAsB;;;;;;kCACtC,mPAAC;wBAAE,WAAU;kCAAoC;;;;;;kCAGjD,mPAAC;wBAAE,WAAU;kCAA6B;;;;;;;;;;;qCAK5C,mPAAC;gBAAI,WAAU;0BACZ,MAAM,GAAG,CAAC,CAAC,qBACV,mPAAC;wBAEC,WAAU;;0CAEV,mPAAC;gCAAI,WAAU;;kDACb,mPAAC;wCAAK,WAAU;kDACb,WAAW,KAAK,UAAU;;;;;;kDAE7B,mPAAC;wCAAK,WAAU;;4CAAoC;4CAChD,KAAK,EAAE,CAAC,KAAK,CAAC,GAAG;;;;;;;;;;;;;0CAGvB,mPAAC;gCAAI,WAAU;;kDACb,mPAAC;wCAAK,WAAU;kDACb,eAAe,KAAK,KAAK;;;;;;kDAE5B,mPAAC;wCACC,WAAW,CAAC,2CAA2C,EACrD,KAAK,MAAM,KAAK,SACZ,oCACA,8BACL,CAAC;kDAED,KAAK,MAAM,KAAK,SAAS,SAAS,KAAK,MAAM;;;;;;;;;;;;;uBAtB7C,KAAK,EAAE;;;;;;;;;;;;;;;;;;;;AAgC5B"}},
    {"offset": {"line": 2408, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2413, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/lib/translations.ts"],"sourcesContent":["// Role translation mapping\r\nexport const roleTranslations: Record<string, string> = {\r\n  OWNER: 'Propriet√°rio',\r\n  ADMIN: 'Administrador',\r\n  MANAGER: 'Gerente',\r\n  CASHIER: 'Caixa',\r\n  VIEWER: 'Visualizador',\r\n};\r\n\r\nexport function translateRole(role: string): string {\r\n  return roleTranslations[role] || role;\r\n}\r\n"],"names":[],"mappings":"AAAA,2BAA2B;;;;;AACpB,MAAM,mBAA2C;IACtD,OAAO;IACP,OAAO;IACP,SAAS;IACT,SAAS;IACT,QAAQ;AACV;AAEO,SAAS,cAAc,IAAY;IACxC,OAAO,gBAAgB,CAAC,KAAK,IAAI;AACnC"}},
    {"offset": {"line": 2428, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2433, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/ProfileScreen.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { PageShell } from './PageShell';\nimport { supabase } from '@/lib/supabase';\nimport { useDialog } from '@/contexts/DialogContext';\nimport { translateRole } from '@/lib/translations';\n\ntype NavTab = 'dashboard' | 'products' | 'profile';\n\ninterface ProfileScreenProps {\n  onBack: () => void;\n  activeTab?: NavTab;\n  onNavigate?: (tab: NavTab) => void;\n  onLogout: () => void;\n}\n\nexport const ProfileScreen: React.FC<ProfileScreenProps> = ({\n  onBack,\n  activeTab,\n  onNavigate,\n  onLogout,\n}) => {\n  const [user, setUser] = useState<any>(null);\n  const [store, setStore] = useState<any>(null);\n  const [loading, setLoading] = useState(true);\n  const { showAlert } = useDialog();\n\n  useEffect(() => {\n    const fetchData = async () => {\n      setLoading(true);\n      const { data: stores } = await supabase\n        .from('stores')\n        .select('*')\n        .limit(1);\n      const { data: users } = await supabase.from('users').select('*').limit(1);\n\n      if (stores && stores.length > 0) setStore(stores[0]);\n      if (users && users.length > 0) setUser(users[0]);\n\n      setLoading(false);\n    };\n    fetchData();\n  }, []);\n\n  return (\n    <PageShell title=\"Meu Perfil\" activeTab={activeTab} onNavigate={onNavigate}>\n      <div className=\"flex flex-col gap-6\">\n        {/* Profile Header */}\n        <div className=\"flex items-center gap-4 p-5 rounded-2xl bg-white border-2 border-gray-200 shadow-sm\">\n          <div className=\"h-16 w-16 rounded-full bg-blue-100 flex items-center justify-center text-2xl border-2 border-blue-200 text-blue-600 font-bold\">\n            {user?.name?.charAt(0).toUpperCase() || 'U'}\n          </div>\n          <div className=\"flex flex-col gap-1\">\n            <h2 className=\"text-lg font-bold text-gray-900\">\n              {user?.name || 'Usu√°rio'}\n            </h2>\n            <span className=\"text-sm text-gray-700 font-medium\">\n              {user?.email || 'email@exemplo.com'}\n            </span>\n            <span className=\"text-xs text-blue-700 mt-1 px-2 py-0.5 rounded-full bg-blue-100 border border-blue-200 w-fit font-bold\">\n              {translateRole(user?.role || 'VIEWER')}\n            </span>\n          </div>\n        </div>\n\n        {/* Store Info */}\n        <div className=\"flex flex-col gap-3\">\n          <h3 className=\"text-sm font-bold text-gray-800 uppercase tracking-wide\">\n            Minha Loja\n          </h3>\n          <div className=\"p-5 rounded-2xl bg-white border-2 border-gray-200 flex flex-col gap-3 shadow-sm\">\n            <div className=\"flex justify-between items-center\">\n              <span className=\"text-sm text-gray-700 font-semibold\">Nome</span>\n              <span className=\"text-sm font-bold text-gray-900\">\n                {store?.name || 'Minha Loja'}\n              </span>\n            </div>\n            <div className=\"h-px bg-gray-200\" />\n            <div className=\"flex justify-between items-center\">\n              <span className=\"text-sm text-gray-700 font-semibold\">\n                ID da Loja\n              </span>\n              <span className=\"text-xs font-mono text-gray-600 font-semibold\">\n                {store?.id?.slice(0, 8) || '...'}\n              </span>\n            </div>\n          </div>\n        </div>\n\n        {/* Actions */}\n        <div className=\"flex flex-col gap-3\">\n          <button\n            onClick={() => showAlert('Funcionalidade em desenvolvimento')}\n            className=\"w-full p-5 rounded-2xl bg-white border-2 border-gray-200 flex items-center justify-between hover:border-blue-300 hover:shadow-md transition-all group focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2\"\n            aria-label=\"Abrir configura√ß√µes\"\n          >\n            <span className=\"text-sm font-bold text-gray-800 group-hover:text-gray-900\">\n              Configura√ß√µes\n            </span>\n            <span className=\"text-gray-500 font-bold\">‚Üí</span>\n          </button>\n\n          <button\n            onClick={onLogout}\n            className=\"w-full p-5 rounded-2xl border-2 border-red-200 bg-red-50 flex items-center justify-center text-red-700 hover:bg-red-100 hover:border-red-300 transition-colors font-bold text-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2\"\n            aria-label=\"Sair da conta\"\n          >\n            Sair da conta\n          </button>\n        </div>\n\n        <div className=\"text-center mt-2\">\n          <span className=\"text-xs text-gray-500 font-semibold\">\n            Vers√£o 0.1.0 (Beta)\n          </span>\n        </div>\n      </div>\n    </PageShell>\n  );\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAeO,MAAM,gBAA8C,CAAC,EAC1D,MAAM,EACN,SAAS,EACT,UAAU,EACV,QAAQ,EACT;IACC,MAAM,CAAC,MAAM,QAAQ,GAAG,4NAAc;IACtC,MAAM,CAAC,OAAO,SAAS,GAAG,4NAAc;IACxC,MAAM,CAAC,SAAS,WAAW,GAAG,4NAAS;IACvC,MAAM,EAAE,SAAS,EAAE,GAAG;IAEtB,6NAAU;QACR,MAAM,YAAY;YAChB,WAAW;YACX,MAAM,EAAE,MAAM,MAAM,EAAE,GAAG,MAAM,4HAC5B,IAAI,CAAC,UACL,MAAM,CAAC,KACP,KAAK,CAAC;YACT,MAAM,EAAE,MAAM,KAAK,EAAE,GAAG,MAAM,4HAAS,IAAI,CAAC,SAAS,MAAM,CAAC,KAAK,KAAK,CAAC;YAEvE,IAAI,UAAU,OAAO,MAAM,GAAG,GAAG,SAAS,MAAM,CAAC,EAAE;YACnD,IAAI,SAAS,MAAM,MAAM,GAAG,GAAG,QAAQ,KAAK,CAAC,EAAE;YAE/C,WAAW;QACb;QACA;IACF,GAAG,EAAE;IAEL,qBACE;QAAW,OAAM;QAAa,WAAW;QAAW,YAAY;kBAC9D,cAAA,mPAAC;YAAI,WAAU;;8BAEb,mPAAC;oBAAI,WAAU;;sCACb,mPAAC;4BAAI,WAAU;sCACZ,MAAM,MAAM,OAAO,GAAG,iBAAiB;;;;;;sCAE1C,mPAAC;4BAAI,WAAU;;8CACb,mPAAC;oCAAG,WAAU;8CACX,MAAM,QAAQ;;;;;;8CAEjB,mPAAC;oCAAK,WAAU;8CACb,MAAM,SAAS;;;;;;8CAElB,mPAAC;oCAAK,WAAU;8CACb,qIAAc,MAAM,QAAQ;;;;;;;;;;;;;;;;;;8BAMnC,mPAAC;oBAAI,WAAU;;sCACb,mPAAC;4BAAG,WAAU;sCAA0D;;;;;;sCAGxE,mPAAC;4BAAI,WAAU;;8CACb,mPAAC;oCAAI,WAAU;;sDACb,mPAAC;4CAAK,WAAU;sDAAsC;;;;;;sDACtD,mPAAC;4CAAK,WAAU;sDACb,OAAO,QAAQ;;;;;;;;;;;;8CAGpB,mPAAC;oCAAI,WAAU;;;;;;8CACf,mPAAC;oCAAI,WAAU;;sDACb,mPAAC;4CAAK,WAAU;sDAAsC;;;;;;sDAGtD,mPAAC;4CAAK,WAAU;sDACb,OAAO,IAAI,MAAM,GAAG,MAAM;;;;;;;;;;;;;;;;;;;;;;;;8BAOnC,mPAAC;oBAAI,WAAU;;sCACb,mPAAC;4BACC,SAAS,IAAM,UAAU;4BACzB,WAAU;4BACV,cAAW;;8CAEX,mPAAC;oCAAK,WAAU;8CAA4D;;;;;;8CAG5E,mPAAC;oCAAK,WAAU;8CAA0B;;;;;;;;;;;;sCAG5C,mPAAC;4BACC,SAAS;4BACT,WAAU;4BACV,cAAW;sCACZ;;;;;;;;;;;;8BAKH,mPAAC;oBAAI,WAAU;8BACb,cAAA,mPAAC;wBAAK,WAAU;kCAAsC;;;;;;;;;;;;;;;;;;;;;;AAOhE"}},
    {"offset": {"line": 2678, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2683, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/contexts/AuthContext.tsx"],"sourcesContent":["import { createContext, useContext, useEffect, useState } from 'react';\nimport { supabase } from '@/lib/supabase';\nimport type { User, Session } from '@supabase/supabase-js';\n\ninterface AuthContextType {\n  user: User | null;\n  session: Session | null;\n  loading: boolean;\n  signIn: (email: string, password: string) => Promise<void>;\n  signUp: (email: string, password: string, name: string) => Promise<void>;\n  signOut: () => Promise<void>;\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\nexport function AuthProvider({ children }: { children: React.ReactNode }) {\n  const [user, setUser] = useState<User | null>(null);\n  const [session, setSession] = useState<Session | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    // Get initial session\n    supabase.auth.getSession().then(({ data: { session } }) => {\n      setSession(session);\n      setUser(session?.user ?? null);\n      setLoading(false);\n    });\n\n    // Listen for auth changes\n    const {\n      data: { subscription },\n    } = supabase.auth.onAuthStateChange((_event, session) => {\n      setSession(session);\n      setUser(session?.user ?? null);\n    });\n\n    return () => subscription.unsubscribe();\n  }, []);\n\n  const signIn = async (email: string, password: string) => {\n    const { error } = await supabase.auth.signInWithPassword({\n      email,\n      password,\n    });\n    if (error) throw error;\n  };\n\n  const signUp = async (email: string, password: string, name: string) => {\n    const { error } = await supabase.auth.signUp({\n      email,\n      password,\n      options: {\n        data: {\n          name,\n        },\n      },\n    });\n    if (error) throw error;\n  };\n\n  const signOut = async () => {\n    const { error } = await supabase.auth.signOut();\n    if (error) throw error;\n  };\n\n  return (\n    <AuthContext.Provider\n      value={{ user, session, loading, signIn, signUp, signOut }}\n    >\n      {children}\n    </AuthContext.Provider>\n  );\n}\n\nexport function useAuth() {\n  const context = useContext(AuthContext);\n  if (context === undefined) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n}\n"],"names":[],"mappings":";;;;;;;;;;;AAaA,MAAM,4BAAc,iOAA2C;AAExD,SAAS,aAAa,EAAE,QAAQ,EAAiC;IACtE,MAAM,CAAC,MAAM,QAAQ,GAAG,4NAAsB;IAC9C,MAAM,CAAC,SAAS,WAAW,GAAG,4NAAyB;IACvD,MAAM,CAAC,SAAS,WAAW,GAAG,4NAAS;IAEvC,6NAAU;QACR,sBAAsB;QACtB,4HAAS,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,EAAE;YACpD,WAAW;YACX,QAAQ,SAAS,QAAQ;YACzB,WAAW;QACb;QAEA,0BAA0B;QAC1B,MAAM,EACJ,MAAM,EAAE,YAAY,EAAE,EACvB,GAAG,4HAAS,IAAI,CAAC,iBAAiB,CAAC,CAAC,QAAQ;YAC3C,WAAW;YACX,QAAQ,SAAS,QAAQ;QAC3B;QAEA,OAAO,IAAM,aAAa,WAAW;IACvC,GAAG,EAAE;IAEL,MAAM,SAAS,OAAO,OAAe;QACnC,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,4HAAS,IAAI,CAAC,kBAAkB,CAAC;YACvD;YACA;QACF;QACA,IAAI,OAAO,MAAM;IACnB;IAEA,MAAM,SAAS,OAAO,OAAe,UAAkB;QACrD,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,4HAAS,IAAI,CAAC,MAAM,CAAC;YAC3C;YACA;YACA,SAAS;gBACP,MAAM;oBACJ;gBACF;YACF;QACF;QACA,IAAI,OAAO,MAAM;IACnB;IAEA,MAAM,UAAU;QACd,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,4HAAS,IAAI,CAAC,OAAO;QAC7C,IAAI,OAAO,MAAM;IACnB;IAEA,qBACE,mPAAC,YAAY,QAAQ;QACnB,OAAO;YAAE;YAAM;YAAS;YAAS;YAAQ;YAAQ;QAAQ;kBAExD;;;;;;AAGP;AAEO,SAAS;IACd,MAAM,UAAU,8NAAW;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT"}},
    {"offset": {"line": 2759, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2764, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/contexts/AppContext.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { createContext, useContext, useState, useEffect } from 'react';\r\nimport { supabase } from '@/lib/supabase';\r\nimport { useAuth } from './AuthContext';\r\nimport { useDialog } from './DialogContext';\r\n\r\n// Types\r\nexport type ViewId =\r\n  | 'login'\r\n  | 'dashboard'\r\n  | 'products'\r\n  | 'new-sale'\r\n  | 'payment-method'\r\n  | 'payment-waiting'\r\n  | 'payment-confirmation'\r\n  | 'sales-history'\r\n  | 'profile';\r\n\r\nexport type NavTab = 'dashboard' | 'products' | 'profile';\r\n\r\nexport type PaymentMethod = 'pix' | 'link' | 'cash';\r\n\r\nexport interface Product {\r\n  id: string;\r\n  name: string;\r\n  price: number;\r\n  stock: number;\r\n}\r\n\r\nexport interface CartItem {\r\n  product: Product;\r\n  quantity: number;\r\n}\r\n\r\ninterface AppContextType {\r\n  // View state\r\n  view: ViewId;\r\n  setView: (view: ViewId) => void;\r\n  navigateToTab: (tab: NavTab) => void;\r\n\r\n  // Cart state\r\n  cart: CartItem[];\r\n  addToCart: (product: Product) => void;\r\n  removeFromCart: (product: Product) => void;\r\n  clearCart: () => void;\r\n  cartTotal: number;\r\n\r\n  // Payment state\r\n  paymentMethod: PaymentMethod | null;\r\n  currentSaleId: string | null;\r\n  setPaymentMethod: (method: PaymentMethod | null) => void;\r\n  setCurrentSaleId: (id: string | null) => void;\r\n\r\n  // Store state\r\n  storeId: string | null;\r\n\r\n  // Actions\r\n  createSale: (method: PaymentMethod) => Promise<void>;\r\n  logout: () => Promise<void>;\r\n}\r\n\r\nconst AppContext = createContext<AppContextType | undefined>(undefined);\r\n\r\nexport const AppProvider: React.FC<{ children: React.ReactNode }> = ({\r\n  children,\r\n}) => {\r\n  const { user, signOut } = useAuth();\r\n  const { showError } = useDialog();\r\n\r\n  // View state\r\n  const [view, setView] = useState<ViewId>('login');\r\n\r\n  // Cart state\r\n  const [cart, setCart] = useState<CartItem[]>([]);\r\n\r\n  // Payment state\r\n  const [paymentMethod, setPaymentMethod] = useState<PaymentMethod | null>(\r\n    null\r\n  );\r\n  const [currentSaleId, setCurrentSaleId] = useState<string | null>(null);\r\n\r\n  // Store state\r\n  const [storeId, setStoreId] = useState<string | null>(null);\r\n\r\n  // Load user's store when authenticated\r\n  useEffect(() => {\r\n    const loadUserStore = async () => {\r\n      if (!user) {\r\n        setStoreId(null);\r\n        setView('login');\r\n        return;\r\n      }\r\n\r\n      try {\r\n        // Get or create store for this user\r\n        const { data: stores, error } = await supabase\r\n          .from('stores')\r\n          .select('id')\r\n          .eq('user_id', user.id)\r\n          .limit(1);\r\n\r\n        if (error) {\r\n          await showError(\r\n            'Erro ao carregar informa√ß√µes da loja.',\r\n            'Erro de autentica√ß√£o'\r\n          );\r\n          return;\r\n        }\r\n\r\n        if (stores && stores.length > 0) {\r\n          setStoreId(stores[0].id);\r\n          setView('dashboard');\r\n        } else {\r\n          // Create store for new user\r\n          const { data: newStore, error: createError } = await supabase\r\n            .from('stores')\r\n            .insert({\r\n              user_id: user.id,\r\n              name: 'Minha Loja',\r\n              address: {},\r\n              business_hours: {},\r\n            })\r\n            .select()\r\n            .single();\r\n\r\n          if (createError) {\r\n            await showError(\r\n              'Erro ao criar loja. Tente fazer login novamente.',\r\n              'Erro'\r\n            );\r\n            return;\r\n          }\r\n\r\n          if (newStore) {\r\n            setStoreId(newStore.id);\r\n            setView('dashboard');\r\n          }\r\n        }\r\n      } catch (error: any) {\r\n        await showError(\r\n          `Erro inesperado: ${error?.message || 'Tente novamente.'}`,\r\n          'Erro'\r\n        );\r\n      }\r\n    };\r\n\r\n    loadUserStore();\r\n  }, [user, showError]);\r\n\r\n  // Navigate to tab\r\n  const navigateToTab = (tab: NavTab) => {\r\n    setView(tab);\r\n  };\r\n\r\n  // Cart actions\r\n  const addToCart = (product: Product) => {\r\n    setCart((prev) => {\r\n      const existing = prev.find((i) => i.product.id === product.id);\r\n      if (!existing) {\r\n        if (product.stock < 1) return prev;\r\n        return [...prev, { product, quantity: 1 }];\r\n      }\r\n\r\n      if (existing.quantity >= product.stock) {\r\n        return prev;\r\n      }\r\n\r\n      return prev.map((i) =>\r\n        i.product.id === product.id ? { ...i, quantity: i.quantity + 1 } : i\r\n      );\r\n    });\r\n  };\r\n\r\n  const removeFromCart = (product: Product) => {\r\n    setCart((prev) => {\r\n      const existing = prev.find((i) => i.product.id === product.id);\r\n      if (!existing) return prev;\r\n      if (existing.quantity === 1) {\r\n        return prev.filter((i) => i.product.id !== product.id);\r\n      }\r\n      return prev.map((i) =>\r\n        i.product.id === product.id ? { ...i, quantity: i.quantity - 1 } : i\r\n      );\r\n    });\r\n  };\r\n\r\n  const clearCart = () => {\r\n    setCart([]);\r\n  };\r\n\r\n  const cartTotal = cart.reduce(\r\n    (acc, item) => acc + item.product.price * item.quantity,\r\n    0\r\n  );\r\n\r\n  // Create sale action\r\n  const createSale = async (selectedMethod: PaymentMethod) => {\r\n    setPaymentMethod(selectedMethod);\r\n\r\n    try {\r\n      let effectiveStoreId = storeId;\r\n\r\n      if (!effectiveStoreId) {\r\n        const { data: stores, error: storeError } = await supabase\r\n          .from('stores')\r\n          .select('id')\r\n          .limit(1);\r\n\r\n        if (storeError) {\r\n          await showError(\r\n            'Erro ao buscar informa√ß√µes da loja. Tente novamente.',\r\n            'Erro na venda'\r\n          );\r\n          return;\r\n        }\r\n\r\n        if (stores?.[0]?.id) {\r\n          effectiveStoreId = stores[0].id;\r\n          setStoreId(effectiveStoreId);\r\n        } else {\r\n          await showError(\r\n            'Nenhuma loja encontrada. Configure sua loja primeiro.',\r\n            'Loja n√£o encontrada'\r\n          );\r\n          return;\r\n        }\r\n      }\r\n\r\n      // Prepare items for RPC\r\n      const rpcItems = cart.map((item) => ({\r\n        product_id: item.product.id,\r\n        quantity: item.quantity,\r\n        unit_price: item.product.price,\r\n        total: item.product.price * item.quantity,\r\n        product_name: item.product.name,\r\n      }));\r\n\r\n      const dbMethod =\r\n        selectedMethod === 'cash'\r\n          ? 'CASH'\r\n          : selectedMethod === 'pix'\r\n            ? 'PIX'\r\n            : 'CREDIT_CARD';\r\n\r\n      const { data: result, error } = await supabase.rpc(\r\n        'create_sale_transaction',\r\n        {\r\n          p_store_id: effectiveStoreId,\r\n          p_total: cartTotal,\r\n          p_items: rpcItems,\r\n          p_payment_method: dbMethod,\r\n        }\r\n      );\r\n\r\n      if (error) {\r\n        await showError(\r\n          `N√£o foi poss√≠vel criar a venda. ${error.message || 'Tente novamente.'}`,\r\n          'Erro ao criar venda'\r\n        );\r\n        return;\r\n      }\r\n\r\n      const { sale_id, status } = result as any;\r\n      setCurrentSaleId(sale_id);\r\n\r\n      if (status === 'PAID') {\r\n        setView('payment-confirmation');\r\n      } else {\r\n        setView('payment-waiting');\r\n      }\r\n    } catch (error: any) {\r\n      await showError(\r\n        `Erro inesperado ao processar a venda: ${error?.message || 'Tente novamente.'}`,\r\n        'Erro'\r\n      );\r\n    }\r\n  };\r\n\r\n  // Logout action\r\n  const logout = async () => {\r\n    await signOut();\r\n    clearCart();\r\n    setStoreId(null);\r\n    setPaymentMethod(null);\r\n    setCurrentSaleId(null);\r\n    setView('login');\r\n  };\r\n\r\n  return (\r\n    <AppContext.Provider\r\n      value={{\r\n        view,\r\n        setView,\r\n        navigateToTab,\r\n        cart,\r\n        addToCart,\r\n        removeFromCart,\r\n        clearCart,\r\n        cartTotal,\r\n        paymentMethod,\r\n        currentSaleId,\r\n        setPaymentMethod,\r\n        setCurrentSaleId,\r\n        storeId,\r\n        createSale,\r\n        logout,\r\n      }}\r\n    >\r\n      {children}\r\n    </AppContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useApp = () => {\r\n  const context = useContext(AppContext);\r\n  if (!context) {\r\n    throw new Error('useApp must be used within an AppProvider');\r\n  }\r\n  return context;\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2971, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2976, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/app/page.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport { LoginScreen } from '@/components/LoginScreen';\nimport { DashboardScreen } from '@/components/DashboardScreen';\nimport { ProductsScreen } from '@/components/ProductsScreen';\nimport { NewSaleScreen } from '@/components/NewSaleScreen';\nimport {\n  PaymentMethodScreen,\n  PaymentWaitingScreen,\n  PaymentConfirmationScreen,\n} from '@/components/PaymentScreens';\nimport { SalesHistoryScreen } from '@/components/SalesHistoryScreen';\nimport { ProfileScreen } from '@/components/ProfileScreen';\nimport { useAuth, AuthProvider } from '@/contexts/AuthContext';\nimport { useApp, AppProvider } from '@/contexts/AppContext';\n\n// ------------------------------------------------------\n// Root App (view router)\n// ------------------------------------------------------\n\nconst PDVRaizApp: React.FC = () => {\n  const { signIn, signUp } = useAuth();\n  const {\n    view,\n    setView,\n    navigateToTab,\n    cart,\n    addToCart,\n    removeFromCart,\n    clearCart,\n    cartTotal,\n    paymentMethod,\n    currentSaleId,\n    createSale,\n    logout,\n  } = useApp();\n\n  return (\n    <div className=\"w-full h-screen flex justify-center items-center bg-gray-100 overflow-hidden\">\n      {view === 'login' && (\n        <LoginScreen onLogin={signIn} onSignUp={signUp} />\n      )}\n\n      {view === 'dashboard' && (\n        <DashboardScreen\n          onNewSale={() => {\n            clearCart();\n            setView('new-sale');\n          }}\n          onGoProducts={() => setView('products')}\n          onGoSalesHistory={() => setView('sales-history')}\n          activeTab=\"dashboard\"\n          onNavigate={navigateToTab}\n        />\n      )}\n\n      {view === 'products' && (\n        <ProductsScreen\n          onBack={() => setView('dashboard')}\n          activeTab=\"products\"\n          onNavigate={navigateToTab}\n        />\n      )}\n\n      {view === 'new-sale' && (\n        <NewSaleScreen\n          cart={cart}\n          onAdd={addToCart}\n          onRemove={removeFromCart}\n          onFinalize={() => setView('payment-method')}\n          onBack={() => setView('dashboard')}\n        />\n      )}\n\n      {view === 'payment-method' && (\n        <PaymentMethodScreen\n          total={cartTotal}\n          onSelect={createSale}\n          onBack={() => setView('new-sale')}\n        />\n      )}\n\n      {view === 'payment-waiting' && paymentMethod && (\n        <PaymentWaitingScreen\n          total={cartTotal}\n          method={paymentMethod}\n          saleId={currentSaleId}\n          onBack={() => setView('payment-method')}\n          onPaymentConfirmed={() => setView('payment-confirmation')}\n        />\n      )}\n\n      {view === 'payment-confirmation' && (\n        <PaymentConfirmationScreen\n          total={cartTotal}\n          onNewSale={() => {\n            clearCart();\n            setView('new-sale');\n          }}\n        />\n      )}\n\n      {view === 'sales-history' && (\n        <SalesHistoryScreen\n          onBack={() => setView('dashboard')}\n          onNavigate={navigateToTab}\n        />\n      )}\n\n      {view === 'profile' && (\n        <ProfileScreen\n          onBack={() => setView('dashboard')}\n          activeTab=\"profile\"\n          onNavigate={navigateToTab}\n          onLogout={logout}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default function RootApp() {\n  return (\n    <AuthProvider>\n      <AppProvider>\n        <PDVRaizApp />\n      </AppProvider>\n    </AuthProvider>\n  );\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA;;;;;;;;;;;AAiBA,yDAAyD;AACzD,yBAAyB;AACzB,yDAAyD;AAEzD,MAAM,aAAuB;IAC3B,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,GAAG;IAC3B,MAAM,EACJ,IAAI,EACJ,OAAO,EACP,aAAa,EACb,IAAI,EACJ,SAAS,EACT,cAAc,EACd,SAAS,EACT,SAAS,EACT,aAAa,EACb,aAAa,EACb,UAAU,EACV,MAAM,EACP,GAAG;IAEJ,qBACE,mPAAC;QAAI,WAAU;;YACZ,SAAS,yBACR;gBAAa,SAAS;gBAAQ,UAAU;;;;;;YAGzC,SAAS,6BACR;gBACE,WAAW;oBACT;oBACA,QAAQ;gBACV;gBACA,cAAc,IAAM,QAAQ;gBAC5B,kBAAkB,IAAM,QAAQ;gBAChC,WAAU;gBACV,YAAY;;;;;;YAIf,SAAS,4BACR;gBACE,QAAQ,IAAM,QAAQ;gBACtB,WAAU;gBACV,YAAY;;;;;;YAIf,SAAS,4BACR;gBACE,MAAM;gBACN,OAAO;gBACP,UAAU;gBACV,YAAY,IAAM,QAAQ;gBAC1B,QAAQ,IAAM,QAAQ;;;;;;YAIzB,SAAS,kCACR;gBACE,OAAO;gBACP,UAAU;gBACV,QAAQ,IAAM,QAAQ;;;;;;YAIzB,SAAS,qBAAqB,+BAC7B;gBACE,OAAO;gBACP,QAAQ;gBACR,QAAQ;gBACR,QAAQ,IAAM,QAAQ;gBACtB,oBAAoB,IAAM,QAAQ;;;;;;YAIrC,SAAS,wCACR;gBACE,OAAO;gBACP,WAAW;oBACT;oBACA,QAAQ;gBACV;;;;;;YAIH,SAAS,iCACR;gBACE,QAAQ,IAAM,QAAQ;gBACtB,YAAY;;;;;;YAIf,SAAS,2BACR;gBACE,QAAQ,IAAM,QAAQ;gBACtB,WAAU;gBACV,YAAY;gBACZ,UAAU;;;;;;;;;;;;AAKpB;AAEe,SAAS;IACtB,qBACE;kBACE,cAAA;sBACE,cAAA,mPAAC;;;;;;;;;;;;;;;AAIT"}},
    {"offset": {"line": 3127, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}